{"version":3,"file":"LanguageModal-DDtnCMZJ.js","sources":["../../src/components/LanguageModal.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\n/**\r\n * LanguageModal component to prompt the user to choose a language on their first visit.\r\n * @returns {JSX.Element} The rendered component.\r\n */\r\nconst LanguageModal = () => {\r\n  const { i18n } = useTranslation();\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const modalRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Check if the user has already seen the modal\r\n    const hasSeenModal = localStorage.getItem(\"hasSeenModal\");\r\n    if (!hasSeenModal) {\r\n      setIsVisible(true);\r\n    }\r\n\r\n    // Add event listener to detect clicks outside the modal\r\n    const handleClickOutside = (event) => {\r\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\r\n        i18n.changeLanguage(\"en\");\r\n        localStorage.setItem(\"hasSeenModal\", \"true\");\r\n        setIsVisible(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [i18n]);\r\n\r\n  const chooseLanguage = (lng) => {\r\n    i18n.changeLanguage(lng);\r\n    localStorage.setItem(\"hasSeenModal\", \"true\");\r\n    setIsVisible(false);\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black text-green-900 bg-opacity-50 backdrop-blur flex items-center justify-center z-50\">\r\n      <div\r\n        ref={modalRef}\r\n        className=\"bg-white py-4 px-8 rounded shadow-lg text-center\"\r\n      >\r\n        <h3 className=\"text-lg pt-4\">Please choose your preferred language</h3>\r\n        <h3 className=\"text-lg pb-4\">\r\n          ದಯವಿಟ್ಟು ನಿಮ್ಮ ಆದ್ಯತೆಯ ಭಾಷೆಯನ್ನು ಆಯ್ಕೆಮಾಡಿ\r\n        </h3>\r\n        <div className=\"flex justify-center gap-8 items-center my-4\">\r\n          <button\r\n            onClick={() => chooseLanguage(\"en\")}\r\n            className=\"bg-primaryDark p-2 rounded text-white hover:bg-primary\"\r\n          >\r\n            English\r\n          </button>\r\n          <button\r\n            onClick={() => chooseLanguage(\"kn\")}\r\n            className=\"bg-primaryDark p-2 rounded text-white hover:bg-primary\"\r\n          >\r\n            ಕನ್ನಡ\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageModal;\r\n"],"names":["LanguageModal","i18n","useTranslation","isVisible","setIsVisible","useState","modalRef","useRef","useEffect","localStorage","getItem","handleClickOutside","event","current","contains","target","changeLanguage","setItem","document","addEventListener","removeEventListener","chooseLanguage","lng","jsx","className","children","jsxRuntimeExports","jsxs","ref","onClick"],"mappings":"uHAOA,MAAMA,EAAgB,KACd,MAAAC,KAAEA,GAASC,KACVC,EAAWC,GAAgBC,YAAS,GACrCC,EAAWC,SAAO,MAExBC,EAAAA,WAAU,KAEaC,aAAaC,QAAQ,iBAExCN,GAAa,GAIT,MAAAO,EAAsBC,IACtBN,EAASO,UAAYP,EAASO,QAAQC,SAASF,EAAMG,UACvDd,EAAKe,eAAe,MACPP,aAAAQ,QAAQ,eAAgB,QACrCb,GAAa,GACf,EAIF,OADSc,SAAAC,iBAAiB,YAAaR,GAChC,KACIO,SAAAE,oBAAoB,YAAaT,EAAkB,CAAA,GAE7D,CAACV,IAEE,MAAAoB,EAAkBC,IACtBrB,EAAKe,eAAeM,GACPb,aAAAQ,QAAQ,eAAgB,QACrCb,GAAa,EAAK,EAGhB,OAACD,IAGHoB,IAAC,MAAI,CAAAC,UAAU,0GACbC,SAAAC,EAAAC,KAAC,MAAA,CACCC,IAAKtB,EACLkB,UAAU,mDAEVC,SAAA,CAACF,EAAAA,IAAA,KAAA,CAAGC,UAAU,eAAeC,SAAqC,0CACjEF,EAAAA,IAAA,KAAA,CAAGC,UAAU,eAAeC,SAE7B,iDACAE,KAAC,MAAI,CAAAH,UAAU,8CACbC,SAAA,CAAAC,EAAAH,IAAC,SAAA,CACCM,QAAS,IAAMR,EAAe,MAC9BG,UAAU,yDACXC,SAAA,YAGDC,EAAAH,IAAC,SAAA,CACCM,QAAS,IAAMR,EAAe,MAC9BG,UAAU,yDACXC,SAAA,kBAtBc,IA2BrB"}